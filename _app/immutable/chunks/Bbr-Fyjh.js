import{b as D,h as I,a as H,E as L,r as O,H as Y,c as p,d as v,s as F,e as h,f as S,g as b,p as N,U,i as j,j as B,k as C,u as M,q as P,S as Z}from"./BXenpX3b.js";function z(a,t,[r,f]=[0,0]){I&&r===0&&H();var i=a,s=null,c=null,u=U,k=r>0?L:0,n=!1;const g=(e,l=!0)=>{n=!0,A(l,e)},A=(e,l)=>{if(u===(u=e))return;let E=!1;if(I&&f!==-1){if(r===0){const T=O(i);T===Y?f=0:T===p?f=1/0:(f=parseInt(T.substring(1)),f!==f&&(f=u?1/0:-1))}const q=f>r;!!u===q&&(i=v(),F(i),h(!1),E=!0,f=-1)}u?(s?S(s):l&&(s=b(()=>l(i))),c&&N(c,()=>{c=null})):(c?S(c):l&&(c=b(()=>l(i,[r+1,f]))),s&&N(s,()=>{s=null})),E&&h(!0)};D(()=>{n=!1,t(g),n||A(null,null)},k),I&&(i=j)}function R(a,t){return a===t||(a==null?void 0:a[Z])===t}function G(a={},t,r,f){return B(()=>{var i,s;return C(()=>{i=s,s=[],M(()=>{a!==r(...s)&&(t(a,...s),i&&R(r(...i),a)&&t(null,...i))})}),()=>{P(()=>{s&&R(r(...s),a)&&t(null,...s)})}}),a}export{G as b,z as i};
